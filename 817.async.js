(self.webpackChunk=self.webpackChunk||[]).push([[817],{74595:function(t,n,e){"use strict";e.d(n,{I:function(){return l}});var i=e(5574),r=e.n(i),o=e(62435),u=e(88305),s=e(36493),c=e(20243),a=e(22537),l=(0,u.f)((function(){var t=(0,o.useState)(!1),n=r()(t,2),e=n[0],i=n[1],u=(0,o.useState)([]),l=r()(u,2),f=l[0],p=l[1],d=(0,o.useState)(!1),h=r()(d,2),v=h[0],g=h[1],w=(0,o.useState)(!1),b=r()(w,2),k=b[0],S=b[1],m=(0,o.useState)(/iPad/i.test(navigator.userAgent)),y=r()(m,2),I=y[0],P=(y[1],(0,o.useState)(a.t4.Binance)),C=r()(P,2),O=C[0],R=C[1];return(0,o.useEffect)((function(){window.onerror=function(t){t.includes(c.U.NoSupportCountry)&&(console.log("切换数据源：",{message:t}),R(a.t4.BinanceUS))}}),[]),(0,o.useEffect)((function(){S((0,s.tq)())}),[window]),{pendingTxns:f,walletVisible:e,isIpad:I,setWalletVisible:i,setPendingTxns:p,tableFlag:v,setTableFlag:g,isMobile:k,platform:O}}))},87798:function(t,n,e){"use strict";e.d(n,{II:function(){return r},Pi:function(){return i}});var i="wss://fstream.binance.com/stream",r="https://fapi.binance.com/fapi/v1/"},20243:function(t,n,e){"use strict";e.d(n,{N:function(){return g},U:function(){return i}});var i,r=e(15009),o=e.n(r),u=e(99289),s=e.n(u),c=e(97857),a=e.n(c),l=e(12444),f=e.n(l),p=e(72004),d=e.n(p),h=e(87798);!function(t){t.ConnectFailed="ConnectFailed",t.NoSupportCountry="NoSupportCountry"}(i||(i={}));var v=function(){function t(n){f()(this,t),this.url=n,this.socket=null,this.isOpened=!1,this.messageQueue=[],this.reconnectTimer=null,this.pingTimer=null,this.idCounter=1,this.reconnectCount=0,this.subscriptions=new Map,this.usingRestfulAPI=!1,this.shouldReconnect=!0,this.initWebSocket()}var n;return d()(t,[{key:"initWebSocket",value:function(){var t=this;this.socket=new WebSocket(this.url),this.socket.onopen=function(){t.isOpened=!0,t.usingRestfulAPI=!1,t.shouldReconnect=!0,t.sendCachedMessages(),t.heartBeat(),t.stopReconnect()},this.socket.onmessage=function(n){return t.onMessage(n)},this.socket.onclose=function(){t.isOpened=!1,t.stopHeartBeat(),t.shouldReconnect&&t.reconnect()},this.socket.onerror=function(n){if(n.error===i.NoSupportCountry)throw t.shouldReconnect=!1,i.NoSupportCountry;t.isOpened=!1,t.stopHeartBeat()}}},{key:"send",value:function(t){this.isOpened?this.socket.send(JSON.stringify(t)):this.messageQueue.push(t)}},{key:"reconnect",value:function(){console.log("websocket reconnecting..."),clearInterval(this.reconnectTimer);var t=this;this.isOpened=!1,this.reconnectTimer=setTimeout((function(){if(t.reconnectCount>=2)return console.error("WebSocket connection failed after multiple attempts."),t.stopReconnect(),t.usingRestfulAPI=!0,void t.pollRestfulAPI();t.reconnectCount++,t.initWebSocket()}),2e3)}},{key:"subscribe",value:function(t,n,e,i){var r=this.idCounter++,o=a()(a()({},t),{},{id:r});return this.subscriptions.set(r,{callback:n,predicate:e,restfulApiFunc:i}),this.usingRestfulAPI?this.pollRestfulAPI(r):this.send(o),r}},{key:"onMessage",value:function(t){var n=JSON.parse(t.data);try{this.subscriptions.forEach((function(t){var e=t.callback,i=t.predicate;void 0!==(null==n?void 0:n.error)?e(n.error,null):i(n)&&e(null,n)}))}catch(t){console.log("onMessage error: ",t)}}},{key:"pollRestfulAPI",value:function(t){var n=this;t?this.pollRestfulAPIForSubscription(t):this.subscriptions.forEach((function(t,e){n.pollRestfulAPIForSubscription(e)}))}},{key:"pollRestfulAPIForSubscription",value:(n=s()(o()().mark((function t(n){var e,i,r,u,s;return o()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.subscriptions.get(n),i=e.restfulApiFunc,r=e.callback,u=e.predicate,i){t.next=4;break}return t.abrupt("return");case 4:e.hasOwnProperty("shouldStop")||(e.shouldStop=!1);case 5:if(!this.usingRestfulAPI||e.shouldStop){t.next=20;break}return t.prev=6,t.next=9,i();case 9:s=t.sent,u(s)&&r(null,s),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),r(t.t0,null);case 16:return t.next=18,new Promise((function(t){return setTimeout(t,1e3)}));case 18:t.next=5;break;case 20:case"end":return t.stop()}}),t,this,[[6,13]])}))),function(t){return n.apply(this,arguments)})},{key:"stopPollingById",value:function(t){var n=this.subscriptions.get(t);n&&(n.shouldStop=!0)}},{key:"stopReconnect",value:function(){clearTimeout(this.reconnectTimer),this.reconnectTimer=null,this.reconnectCount=0}},{key:"heartBeat",value:function(){}},{key:"stopHeartBeat",value:function(){clearInterval(this.pingTimer),this.pingTimer=null}},{key:"unsubscribe",value:function(t){this.stopPollingById(t),this.subscriptions.delete(t),console.log("unsubscribe: ",this.subscriptions.get(t))}},{key:"sendCachedMessages",value:function(){for(;this.messageQueue.length>0;)this.send(this.messageQueue.shift())}},{key:"close",value:function(){this.socket.close(),this.stopHeartBeat()}}]),t}(),g=new v(h.Pi)},65334:function(t,n,e){"use strict";e.d(n,{Cs:function(){return f},HC:function(){return c},Ju:function(){return d},Wr:function(){return p},ZK:function(){return s},eQ:function(){return a},kX:function(){return l},pW:function(){return o},pd:function(){return u},py:function(){return v},rI:function(){return h}});var i=e(13907);function r(t){return"".concat(t||"").concat("V1")}var o=r("DEI_0001"),u=r("DEI_0002"),s=(r("depx-market-selection"),r("depx-swap-leverage-option")),c=(r("depx-swap-leverage-useinput-lev"),r("DEPX_SELECTED_NETWORK")),a=r("DEPX_walletconnect"),l=r("DEPX_-walletlink"),f=r("DEPX_eagerconnect"),p=r("DEPX_currentprovider");function d(t,n,e){var r=JSON.stringify(t);return(0,i.Z)(r,n,e)}var h=function(t,n){var e=window.localStorage.getItem(t);if(!e)return n;try{return JSON.parse(e).data}catch(t){console.error(t)}},v=function(t,n){try{var e=JSON.stringify({data:n});window.localStorage.setItem(t,e)}catch(t){console.error(t)}}},24069:function(t,n,e){"use strict";e.d(n,{H2:function(){return l},Jl:function(){return u},_b:function(){return o},dN:function(){return c},tP:function(){return a}});var i=e(2593),r=e(35553);function o(t){try{return i.O$.from(t)}catch(t){return console.error("bigNumberify error",t),i.O$.from(0)}}function u(t,n){return o(t).mul(o(10).pow(n))}var s=function(t,n){var e=t.toString();if(void 0===n)return e;if(0===n)return e.split(".")[0];var i=e.indexOf(".");if(-1!==i){var r=e.length-i-1;r>n&&(e=e.substr(0,e.length-(r-n)))}return e};var c=function(t,n,e,i,o){if(o||(o="..."),void 0===t||0===t.toString().length)return o;var u=r.bM(t,n);return u=s(u,e),i?function(t){if(!t)return"...";var n=t.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),n.join(".")}(u):u},a=function(t,n,e){if(!t)return"...";var i=r.bM(t,n);return function(t){return parseFloat(t)===parseInt(t)?parseInt(t).toString():t}(i=s(i,e))},l=function(t,n){if(t instanceof i.O$)return t;var e=parseFloat(t);return isNaN(e)?void 0:(t=s(t,n),o(r.vz(t,n)))}},36493:function(t,n,e){"use strict";e.d(n,{$H:function(){return u},D4:function(){return s},Ij:function(){return f},R$:function(){return o},do:function(){return c},tq:function(){return l},yG:function(){return a}});var i=e(20238),r=(e(80129),e(65334)),o=(i.dE,function(){return(0,r.rI)(r.pW,Object.create({}))}),u=function(t){return-1!==window.location.href.indexOf("".concat(t,"="))};function s(t){return t?t.split("/")[0]:""}var c=function(t){var n="BTCUSDT";if(!t)return n;if("Test Market"===t)return n;var e=t.split("/");return"".concat(e[0],"USDT")};function a(){var t,n;return!(null!==(t=window.location.host)&&void 0!==t&&t.includes("gmx.io")||null!==(n=window.location.host)&&void 0!==n&&n.includes("ipfs.io"))}var l=function(){var t=navigator.userAgent.toLowerCase(),n=/iphone/.test(t)&&!/ipad/.test(t),e=/android/.test(t)&&/mobile/.test(t),i=/windows/.test(t)&&/phone/.test(t),r=window.innerWidth>window.innerHeight?window.innerHeight:window.innerWidth;return(n||e||i)&&r<768},f=function(){var t=window.navigator.userAgent.toLowerCase(),n={isMacOS:!1,isIOS:!1,isWindows:!1,isAndroid:!1};return/(macintosh|macintel|macppc|mac68k|macos)/i.test(t)?n.isMacOS=!0:/(iphone|ipad|ipod)/i.test(t)?n.isIOS=!0:/(win32|win64|windows|wince)/i.test(t)?n.isWindows=!0:/android/.test(t)&&(n.isAndroid=!0),n}},22537:function(t,n,e){"use strict";e.d(n,{BA:function(){return s},R7:function(){return o},j$:function(){return u},qL:function(){return r},t4:function(){return i}});var i,r="https://Dei.io",o="https://dalveytech.github.io/depx-view-build/#/trade",u="Dei.io";!function(t){t.Binance="binance",t.BinanceUS="binanceUS"}(i||(i={}));var s={Competitions:"/more/competitions"}},46601:function(){},24654:function(){}}]);